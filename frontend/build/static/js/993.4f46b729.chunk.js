"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[993],{4993:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var t=r(5861),i=r(885),o=r(7757),s=r.n(o),a=r(9201),l=r(184),c=(0,a.Z)((0,l.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline"),d=(0,a.Z)((0,l.jsx)("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt"),u=(0,a.Z)((0,l.jsx)("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"LocalShipping"),p=(0,a.Z)((0,l.jsx)("path",{d:"M17 12h-3V8h-4v4H7l5 5zm2-9h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"}),"AssignmentReturnedOutlined"),f=r(1889),h=r(7621),x=r(2169),g=r(9504),m=r(890),v=r(6151),y=r(9276),j=r(4569),Z=r.n(j),b=r(2426),C=r.n(b),k=r(2791),w=r(6030),_=r(6871),O=r(2864),z=r(8814),M=r.n(z),S=function(){var e=(0,w.v9)((function(e){return{user:e.auth}})).user,n=(0,_.UO)().id,r=(0,_.s0)(),o=(0,k.useState)([]),a=(0,i.Z)(o,2),j=a[0],b=a[1],z=(0,k.useState)(),S=(0,i.Z)(z,2),L=S[0],P=S[1],A=(0,k.useState)(),I=(0,i.Z)(A,2),D=I[0],E=I[1],V=(0,k.useState)(!1),Y=(0,i.Z)(V,2),H=Y[0],N=Y[1],R=(0,k.useState)(),T=(0,i.Z)(R,2),B=T[0],F=T[1],U=(0,k.useRef)(),W=function(){var r=(0,t.Z)(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e.user.id){r.next=4;break}return N(!0),r.next=4,Z().get("/api/orders/myorders/".concat(n),{withCredentials:!0}).then((function(e){P(e.data.data),N(!1)})).catch((function(e){N(!1)}));case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();(0,k.useEffect)((function(){W()}),[e.user.id,j,D,B]);var q=function(){var e=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z().post("/api/orders/myorders/changeDelivered",{orderId:n,index:r},{withCredentials:!0}).then((function(e){b(e.data.delivered)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.useEffect)((function(){U.current=(0,O.io)("https://web-shop-socketio.herokuapp.com/")}),[]),(0,k.useEffect)((function(){U.current&&""!==e.user.id&&(null===U||void 0===U||U.current.on("changes",(function(e){n===e.orderId&&(E(e.prepared),F(e.cargotracknumber))})))}),[e.user]),(0,l.jsx)("div",{children:H?(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,l.jsx)(M(),{size:20,margin:2,color:"#c67c03"})}):(0,l.jsxs)(y.Z,{sx:{padding:"1em",width:"100vh"},children:[(0,l.jsxs)("h3",{children:["Order - ",n]}),(0,l.jsx)(f.ZP,{container:!0,spacing:2,children:(0,l.jsx)(f.ZP,{item:!0,xs:12,children:null===L||void 0===L?void 0:L.order.map((function(e,n){return(0,l.jsxs)(h.Z,{sx:{marginBottom:"5px",padding:"3px"},children:[(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr 1fr 1fr",justifyItems:"center",alignItems:"center",marginBottom:"5px"},children:[(0,l.jsx)(x.Z,{component:"img",sx:{width:151},image:e.img[0],alt:"Live from space album cover"}),(0,l.jsx)(y.Z,{sx:{display:"flex",flexDirection:"column",justifySelf:"start"},children:(0,l.jsxs)(g.Z,{sx:{flex:"1 0 auto"},children:[(0,l.jsx)(m.Z,{component:"div",variant:"h5",children:e.title}),(0,l.jsx)(m.Z,{variant:"subtitle1",color:"text.secondary",component:"div",children:e._id})]})}),(0,l.jsx)(y.Z,{sx:{display:"flex",flexDirection:"column",alignSelf:"center"},children:(0,l.jsxs)(m.Z,{component:"div",variant:"h6",children:[null===L||void 0===L?void 0:L.amount[n]," piece"]})}),(0,l.jsx)(y.Z,{sx:{display:"flex",flexDirection:"column",alignSelf:"center"},children:(0,l.jsxs)(m.Z,{component:"div",variant:"h4",children:["\u20ba",e.cost*(null===L||void 0===L?void 0:L.amount[n])]})})]}),(0,l.jsxs)(y.Z,{sx:{display:"grid",gridTemplateColumns:"1fr"},children:[(0,l.jsxs)(y.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-evenly",marginBottom:"5px"},children:[(0,l.jsxs)(h.Z,{sx:L.preparing[n]?{backgroundColor:"#F4EEA9",display:"flex",flexDirection:"column",alignItems:"center",padding:"5px"}:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5px"},children:[(0,l.jsx)(c,{sx:L.preparing[n]?{color:"green"}:{color:"lightgray"}}),(0,l.jsx)("h5",{style:L.preparing[n]?{color:"green",margin:"0px"}:{color:"lightgray",margin:"0px"},children:"Preparing..."}),(0,l.jsx)("h6",{style:{margin:"5px",color:"green"},children:"now"!==L.preparedAt[n]?C()(L.preparedAt[n]).format("LLL"):null})]}),(0,l.jsx)(d,{fontSize:"large",sx:L.delivered[n]?{color:"green"}:{color:"lightgray"}}),(0,l.jsxs)(h.Z,{sx:L.sentbycargo[n]?{backgroundColor:"#F4EEA9",display:"flex",flexDirection:"column",alignItems:"center",padding:"5px"}:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5px"},children:[(0,l.jsx)(u,{sx:L.sentbycargo[n]?{color:"green"}:{color:"lightgray"}}),(0,l.jsx)("h5",{style:L.sentbycargo[n]?{color:"green",margin:"0px"}:{color:"lightgray",margin:"0px"},children:"Sent by cargo"}),(0,l.jsx)("h6",{style:{margin:"5px",color:"green"},children:"now"!==L.sentAt[n]?C()(L.sentAt[n]).format("LLL"):null}),(0,l.jsx)("h6",{style:{margin:"5px",color:"green"},children:""!==L.cargoTrackNumber[n]?"Track No : ".concat(L.cargoTrackNumber[n]):null})]}),(0,l.jsx)(d,{fontSize:"large",sx:L.delivered[n]?{color:"green"}:{color:"lightgray"}}),(0,l.jsxs)(h.Z,{sx:L.delivered[n]?{backgroundColor:"#F4EEA9",display:"flex",flexDirection:"column",alignItems:"center",padding:"5px"}:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5px"},children:[(0,l.jsx)(p,{sx:L.delivered[n]?{color:"green"}:{color:"lightgray"}}),(0,l.jsx)("h5",{style:L.delivered[n]?{color:"green",margin:"0px"}:{color:"lightgray",margin:"0px"},children:"Confirm When you received."}),(0,l.jsx)("h6",{style:{margin:"5px",color:"green"},children:"now"!==L.deliveredAt[n]?C()(L.deliveredAt[n]).format("LLL"):null})]})]}),(0,l.jsxs)(y.Z,{sx:{display:"flex",justifyContent:"end"},children:[(0,l.jsx)(v.Z,{disabled:!((L.preparing[n]||L.sentbycargo[n])&&!L.delivered[n]),color:"success",size:"small",onClick:function(){return q(n)},children:"Yes, I received."}),(0,l.jsx)(v.Z,{color:"warning",style:L.delivered[n]?{}:{display:"none"},onClick:function(){return r("/details/".concat(e._id))},children:"Leave me a comment"})]})]})]},e._id)}))})})]})})}},9504:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(7462),i=r(3366),o=r(2791),s=r(8182),a=r(767),l=r(7630),c=r(1046),d=r(5159);function u(e){return(0,d.Z)("MuiCardContent",e)}(0,r(208).Z)("MuiCardContent",["root"]);var p=r(184),f=["className","component"],h=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),x=o.forwardRef((function(e,n){var r=(0,c.Z)({props:e,name:"MuiCardContent"}),o=r.className,l=r.component,d=void 0===l?"div":l,x=(0,i.Z)(r,f),g=(0,t.Z)({},r,{component:d}),m=function(e){var n=e.classes;return(0,a.Z)({root:["root"]},u,n)}(g);return(0,p.jsx)(h,(0,t.Z)({as:d,className:(0,s.Z)(m.root,o),ownerState:g,ref:n},x))}))},8814:function(e,n,r){var t=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},i=this&&this.__extends||function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},e(n,r)};return function(n,r){function t(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}(),o=this&&this.__createBinding||(Object.create?function(e,n,r,t){void 0===t&&(t=r),Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[r]}})}:function(e,n,r,t){void 0===t&&(t=r),e[t]=n[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(n,e,r);return s(n,e),n};Object.defineProperty(n,"__esModule",{value:!0});var l,c,d=a(r(2791)),u=r(2554),p=r(43),f=r(2098),h=u.keyframes(l||(l=t(["\n  33% {transform: translateY(10px)}\n  66% {transform: translateY(-10px)}\n  100% {transform: translateY(0)}\n"],["\n  33% {transform: translateY(10px)}\n  66% {transform: translateY(-10px)}\n  100% {transform: translateY(0)}\n"]))),x=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.style=function(e){var r=n.props,i=r.color,o=r.size,s=r.margin,a=r.speedMultiplier;return u.css(c||(c=t(["\n      background-color: ",";\n      width: ",";\n      height: ",";\n      margin: ",";\n      border-radius: 100%;\n      display: inline-block;\n      animation: "," ","s ","s infinite ease-in-out;\n      animation-fill-mode: both;\n    "],["\n      background-color: ",";\n      width: ",";\n      height: ",";\n      margin: ",";\n      border-radius: 100%;\n      display: inline-block;\n      animation: "," ","s ","s infinite ease-in-out;\n      animation-fill-mode: both;\n    "])),i,f.cssValue(o),f.cssValue(o),f.cssValue(s),h,.6/a,.07*e)},n}return i(n,e),n.prototype.render=function(){var e=this.props,n=e.loading,r=e.css;return n?u.jsx("span",{css:[r]},u.jsx("span",{css:this.style(1)}),u.jsx("span",{css:this.style(2)}),u.jsx("span",{css:this.style(3)})):null},n.defaultProps=p.sizeMarginDefaults(15),n}(d.PureComponent);n.default=x}}]);
//# sourceMappingURL=993.4f46b729.chunk.js.map