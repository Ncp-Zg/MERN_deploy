(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[666,300],{5684:function(e,t,r){"use strict";var n=r(184);t.Z=function(e){var t=e.error,r=e.resetErrorBoundary;return(0,n.jsxs)("div",{role:"alert",children:[(0,n.jsx)("p",{children:"Something went wrong:"}),(0,n.jsx)("pre",{children:t.message}),(0,n.jsx)("button",{onClick:r,children:"Try again"})]})}},5300:function(e,t,r){"use strict";r.r(t);var n=r(6151),o=r(2934),i=r(890),s=r(9276),a=r(6871),l=r(184),c={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};t.default=function(e){var t=e.open,r=e.handleOpen,u=e.handleClose,d=(0,a.s0)();return(0,l.jsxs)("div",{children:[(0,l.jsx)(n.Z,{onClick:r,children:"Something went wrong!!"}),(0,l.jsx)(o.Z,{open:t,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(s.Z,{sx:c,children:[(0,l.jsx)(i.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{display:"flex",justifyContent:"center"},children:"Authorization"}),(0,l.jsxs)(i.Z,{id:"modal-modal-description",sx:{mt:2,display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,l.jsx)("span",{children:"You need to login. Your token is expired already."}),(0,l.jsx)(n.Z,{onClick:function(){d("/login")},children:"Go to Login page"})]})]})})]})}},1666:function(e,t,r){"use strict";r.r(t);var n=r(5861),o=r(885),i=r(7757),s=r.n(i),a=r(6151),l=r(4569),c=r.n(l),u=r(2791),d=r(6030),f=r(6871),p=r(7111),h=r.n(p),x=r(6960),y=r(5300),m=r(6742),v=r(5684),g=r(184),b=(0,u.lazy)((function(){return Promise.all([r.e(93),r.e(452)]).then(r.bind(r,5452))})),j=(0,u.lazy)((function(){return Promise.all([r.e(93),r.e(625)]).then(r.bind(r,625))})),k=(0,u.lazy)((function(){return Promise.all([r.e(93),r.e(482),r.e(765)]).then(r.bind(r,765))}));t.default=function(){var e=(0,u.useState)(!1),t=(0,o.Z)(e,2),r=t[0],i=t[1],l=(0,u.useState)(!1),p=(0,o.Z)(l,2),w=p[0],C=p[1],E=(0,d.v9)((function(e){return e.auth})).user,S=(0,f.s0)(),Z=(0,u.useState)(!1),O=(0,o.Z)(Z,2),D=O[0],P=O[1];(0,u.useEffect)((function(){var e=new AbortController,t=function(){var t=(0,n.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===E.id){t.next=4;break}return C(!0),t.next=4,c().get("/api/users/profile",{withCredentials:!0,signal:e.signal}).then((function(e){e.data.success&&(i(!0),C(!1))})).catch((function(e){"canceled"===e.message?console.log("axios aborted"):(C(!1),i(!1))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){return e.abort()}}),[E]);var B=(0,u.useState)(0),F=(0,o.Z)(B,2),_=F[0],N=F[1],R=(0,u.useState)({category:"",description:"",stock:0,cost:0,title:"",seller:"",img:[]}),z=(0,o.Z)(R,2),A=z[0],K=z[1],I=["Step 1","Step 2","Step 3"];return(0,g.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:r?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.ErrorBoundary,{FallbackComponent:v.Z,onReset:function(){},children:(0,g.jsxs)(u.Suspense,{fallback:(0,g.jsx)("div",{children:"Loading..."}),children:[(0,g.jsxs)("form",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,g.jsx)("h3",{children:I[_]}),(0,g.jsx)("div",{style:{width:"100%"},children:0===_?(0,g.jsx)(b,{formdata:A,setFormData:K}):1===_?(0,g.jsx)(j,{formdata:A,setFormData:K}):(0,g.jsx)(k,{formdata:A,setFormData:K})})]}),(0,g.jsxs)("div",{style:{display:"flex",marginTop:"20px",alignSelf:"center"},children:[(0,g.jsx)(a.Z,{variant:"contained",disabled:0===_,onClick:function(){N((function(e){return e-1}))},sx:{marginRight:"10px"},children:"Previous"}),(0,g.jsx)(a.Z,{variant:"contained",color:_===I.length-1?"success":"primary",onClick:function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==I.length-1){e.next=10;break}if(isNaN(A.stock)||isNaN(+A.cost)){e.next=7;break}return t.preventDefault(),e.next=5,c().post("/api/products/add",{category:A.category,cost:A.cost,desc:A.description,stock:A.stock,title:A.title,img:A.img},{withCredentials:!0}).then((function(e){x.Am.success("Product added successfully"),S("/home")}));case 5:e.next=8;break;case 7:x.Am.error("provide a valid stock or cost for the product");case 8:e.next=11;break;case 10:N((function(e){return e+1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sx:{},children:_===I.length-1?"Submit":"Next"})]})]})})}):w?(0,g.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,g.jsx)(h(),{size:30,color:"#c67c03"})}):(0,g.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"70vh"},children:(0,g.jsx)(y.default,{open:D,handleClose:function(){return P(!1)},handleOpen:function(){return P(!0)}})})})}},6742:function(e,t,r){!function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(t);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var s=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))},a={error:null},l=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state=a,t.resetErrorBoundary=function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,n),t.reset()},t}i(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(a)},r.componentDidCatch=function(e,t){var r,n;null==(r=(n=this.props).onError)||r.call(n,e,t)},r.componentDidUpdate=function(e,t){var r,n,o=this.state.error,i=this.props.resetKeys;null!==o&&null!==t.error&&s(e.resetKeys,i)&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,i),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,o=t.FallbackComponent,i=t.fallback;if(null!==e){var s={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(i))return i;if("function"===typeof r)return r(s);if(o)return n.createElement(o,s);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);function c(e,t){var r=function(r){return n.createElement(l,t,n.createElement(e,r))},o=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+o+")",r}function u(e){var t=n.useState(null),r=t[0],o=t[1];if(null!=e)throw e;if(null!=r)throw r;return o}e.ErrorBoundary=l,e.useErrorHandler=u,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(2791))}}]);
//# sourceMappingURL=666.e043e2c0.chunk.js.map