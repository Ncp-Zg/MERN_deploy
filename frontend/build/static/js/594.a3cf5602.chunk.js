/*! For license information please see 594.a3cf5602.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[594],{3594:function(e,t,n){n.r(t);var i=n(5861),r=n(885),o=n(7757),l=n.n(o),a=n(7621),s=n(3767),c=n(7246),u=n(5093),d=n(6151),p=n(9276),f=n(4569),v=n.n(f),h=n(2426),x=n.n(h),m=n(2791),y=n(6030),g=n(6871),j=n(6375),C=n(184);t.default=function(e){var t,n=e.product,o=(0,g.UO)().id,f=(0,y.v9)((function(e){return{user:e.auth.user}})).user,h=(0,m.useState)([]),k=(0,r.Z)(h,2),w=k[0],b=k[1],Z=(0,m.useState)(""),L=(0,r.Z)(Z,2),M=L[0],S=L[1],V=(0,m.useState)(),N=(0,r.Z)(V,2),P=N[0],A=N[1],z=(0,m.useState)(20),T=(0,r.Z)(z,2),W=T[0],R=T[1],I=(0,m.useState)(1),O=(0,r.Z)(I,2),B=O[0],E=O[1],D=(0,m.useState)(0),F=(0,r.Z)(D,2),H=F[0],_=F[1],U=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().get("/api/products/".concat(o,"/getallcomments"),{params:{page:"".concat(B)}}).then((function(e){b(e.data.data),_(e.data.total)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){U()}),[f.id,P,B]);var X=function(){var e=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v().post("/api/products/".concat(n._id,"/addcomment"),{comment:M,rating:+W/20},{withCredentials:!0}).then((function(e){A(e.data),S("")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,C.jsxs)("div",{children:[w.map((function(e){return(0,C.jsxs)(a.Z,{sx:{marginBottom:"5px"},children:[(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[1===e.rating?(0,C.jsx)("h6",{style:{margin:"5px 5px 0px 0px"},children:"\u2b50"}):2===e.rating?(0,C.jsx)("h6",{style:{margin:"5px 5px 0px 0px"},children:"\u2b50\u2b50"}):3===e.rating?(0,C.jsx)("h6",{style:{margin:"5px 5px 0px 0px"},children:"\u2b50\u2b50\u2b50"}):4===e.rating?(0,C.jsx)("h6",{style:{margin:"5px 5px 0px 0px"},children:"\u2b50\u2b50\u2b50\u2b50"}):(0,C.jsx)("h6",{style:{margin:"5px 5px 0px 0px"},children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,C.jsx)("h6",{style:{margin:"5px 5px 0px 0px"},children:x()(e.createdAt).format("LLL")})]}),(0,C.jsx)("h4",{children:e.comment}),(0,C.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,C.jsx)("h6",{style:{margin:"0px 5px 5px 0px"},children:e.user.name})})]},e._id)})),0===w.length?null:(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:(0,C.jsx)(s.Z,{spacing:2,children:(0,C.jsx)(c.Z,{sx:{color:"red"},count:function(){for(var e=0,t=0;t<Math.floor(H/5)+1;t++)e+=1;return e}(),page:B,onChange:function(e,t){E(t)},defaultPage:1,color:"primary"})})}),null!==(t=n.customer)&&void 0!==t&&t.includes(f.id)?(0,C.jsxs)(a.Z,{sx:{marginTop:"2rem",padding:"0.2rem"},children:[(0,C.jsx)(j.i,{onClick:function(e){R(e)},ratingValue:W}),(0,C.jsxs)("b",{children:[W/20,"/5"]}),(0,C.jsx)(p.Z,{sx:{maxWidth:"100%"},children:(0,C.jsx)(u.Z,{value:M,rows:5,multiline:!0,fullWidth:!0,label:"Comment",id:"fullWidth",onChange:function(e){return S(e.target.value)}})}),(0,C.jsx)(d.Z,{fullWidth:!0,size:"small",onClick:X,children:"send"})]}):null]})}},6375:function(e,t,n){var i=n(184),r=n(2791);var o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}function s(e){var t=e.size,n=void 0===t?25:t,r=e.strokeColor,o=void 0===r?"none":r,a=e.storkeWidth,s=void 0===a?0:a,c=e.className,u=void 0===c?"star-svg":c,d=e.style;return i.jsx("svg",l({fill:"currentColor",width:n,height:n,viewBox:"0 0 24 24",className:u,style:l({},d)},{children:i.jsx("path",{fill:"currentColor",stroke:o,strokeMiterlimit:"10",strokeWidth:s,d:"M12,17.27L18.18,21l-1.64-7.03L22,9.24l-7.19-0.61L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27z"},void 0)}),void 0)}var c=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0};function u(e,t){switch(t.type){case"PointerMove":return l(l({},e),{hoverValue:t.payload});case"PointerLeave":return{defaultValue:e.defaultValue,hoverValue:null};case"MouseClick":return l(l({},e),{defaultValue:t.payload});default:return e}}t.i=function(e){var t,n,d=e.onClick,p=e.initialValue,f=void 0===p?0:p,v=e.ratingValue,h=void 0===v?0:v,x=e.iconsCount,m=void 0===x?5:x,y=e.size,g=void 0===y?40:y,j=e.readonly,C=void 0!==j&&j,k=e.fillColor,w=void 0===k?"#ffbc0b":k,b=e.fillColorArray,Z=void 0===b?[]:b,L=e.emptyColor,M=void 0===L?"#cccccc":L,S=e.fullIcon,V=void 0===S?null:S,N=e.emptyIcon,P=void 0===N?null:N,A=e.customIcons,z=void 0===A?[]:A,T=e.rtl,W=void 0!==T&&T,R=e.allowHalfIcon,I=void 0!==R&&R,O=e.allowHover,B=void 0===O||O,E=e.transition,D=void 0!==E&&E,F=e.className,H=void 0===F?"react-simple-star-rating":F,_=e.style,U=e.fullClassName,X=void 0===U?"filled-icons":U,Y=e.emptyClassName,q=void 0===Y?"empty-icons":Y,G=e.fullStyle,J=e.emptyStyle,K=e.showTooltip,Q=void 0!==K&&K,$=e.tooltipDefaultText,ee=void 0===$?"Your Rate":$,te=e.tooltipArray,ne=void 0===te?[]:te,ie=e.tooltipClassName,re=void 0===ie?"react-simple-star-rating-tooltip":ie,oe=e.tooltipStyle,le=r.useReducer(u,{defaultValue:h,hoverValue:null}),ae=le[0],se=ae.defaultValue,ce=ae.hoverValue,ue=le[1];o.default.useEffect((function(){return ue({type:"MouseClick",payload:h})}),[h]);var de=function(e){var t=e.clientX,n=e.currentTarget.children[0].getBoundingClientRect(),i=n.left,r=n.right,o=n.width,l=function(e,t,n){for(var i=100/e,r=n/e,o=100,l=0;l<e;l+=1)if(t<=r*l+r/4){o=0===l&&t<r/2?0:i*l;break}return o}(he,W?r-t:t-i,o);l>0&&ce!==l&&ue({type:"PointerMove",payload:l})},pe=function(){ce&&(ue({type:"MouseClick",payload:ce}),d&&d(ce))},fe=r.useMemo((function(){return Math.round(f/m*100)}),[f,m]),ve=r.useMemo((function(){return B&&ce&&ce||se&&se||fe}),[B,ce,se,fe]),he=r.useMemo((function(){return I?2*m:m}),[I,m]),xe=r.useCallback((function(e){var t=1;return e&&(t=I?e/he:e/2/10),Math.round(t-1)}),[I,he]),me=r.useCallback((function(e){return I?e/2/10:xe(e)+1}),[I,xe]),ye=function(e){return ne.length>0?ne[xe(e)]:me(e)||0};return i.jsxs("span",l({style:{display:"inline-block",direction:"".concat(W?"rtl":"ltr"),touchAction:"none"}},{children:[i.jsxs("span",l({className:H,style:l({position:"relative",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",cursor:C?"":"pointer",verticalAlign:"middle",userSelect:"none"},_),onPointerMove:C?void 0:de,onPointerEnter:C?void 0:function(e){c()&&de(e)},onPointerLeave:C?void 0:function(){c()&&pe(),ue({type:"PointerLeave"})},onClick:C?void 0:pe,"aria-hidden":"true"},{children:[i.jsx("span",l({className:q,style:l({display:"inline-block",color:M},J)},{children:a([],Array(m),!0).map((function(e,t){var n;return i.jsx(r.Fragment,{children:(null===(n=z[t])||void 0===n?void 0:n.icon)||P||i.jsx(s,{size:g},t)},t)}))}),void 0),i.jsx("span",l({className:X,style:l((t={position:"absolute",top:0},t[W?"right":"left"]=0,t.color=B&&ce&&Z[xe(ce)]||se&&Z[xe(se)]||w,t.overflow="hidden",t.whiteSpace="nowrap",t.display="inline-block",t.transition=D?"width .2s ease, color .2s ease":"",t.width="".concat(ve,"%"),t),G),title:"".concat(ce&&me(ce)||me(fe)," out of ").concat(m)},{children:a([],Array(m),!0).map((function(e,t){var n;return i.jsx(r.Fragment,{children:(null===(n=z[t])||void 0===n?void 0:n.icon)||V||i.jsx(s,{size:g},void 0)},t)}))}),void 0)]}),void 0),Q&&i.jsx("span",l({className:re,style:l((n={display:"inline-block",padding:"5px 15px",backgroundColor:"#333",color:"#fff"},n[W?"marginRight":"marginLeft"]=20,n.verticalAlign="middle",n.borderRadius=5,n),oe)},{children:ce&&ye(ce)||se&&ye(se)||fe&&ye(fe)||ee}),void 0)]}),void 0)}}}]);
//# sourceMappingURL=594.a3cf5602.chunk.js.map